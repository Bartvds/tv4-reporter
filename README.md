# tv4-reporter

[![Build Status](https://secure.travis-ci.org/Bartvds/tv4-reporter.png?branch=master)](http://travis-ci.org/Bartvds/tv4-reporter) [![Dependency Status](https://gemnasium.com/Bartvds/tv4-reporter.png)](https://gemnasium.com/Bartvds/tv4-reporter) [![NPM version](https://badge.fury.io/js/tv4-reporter.png)](http://badge.fury.io/js/tv4-reporter)

> Reporters to display usable [Tiny Validator tv4](https://github.com/geraintluff/tv4) output of [json-schema](http://jsonschema.org) validation.

This module is used by various dependants to render `tv4` validation result objects in a compact but highly readable (and optionally colourful) format.

The module is tuned for both CLI output as well as plain-text or even pre-formatted HTML/CSS rendering. The actual output and colonisers are extendible, with some common ones built-in.

**Note:** at this point this is *not* a validator or 'test runner', nor is it a finished application. It is a library to use as dependency. Use plain `tv4` and pass the result(s) to one of `tv4-reproters` helpers, or use one of the many tv4 wrappers for convenience (some are linked below). 

## Features

* Indented, tree-like display
* Single and multiple errors
* Optionally display summaries
* Recursive sub-errors (as generated by `anyOf`, `oneOf` etc)
* Missing sub-schemas (optionally report as fail or pass reason)
* Pluggable output writer/coloriser

## Examples

Bulk reporter with single error:

[![WebStorm example](https://raw.github.com/Bartvds/tv4-reporter/master/media/webstorm-example-01.png)](https://raw.github.com/Bartvds/tv4-reporter/master/media/webstorm-example-01.png)

## Usage

Still very-much in flux.

## Outputs

Line output:

* streaming `console.log()`
* buffered `toString()` / `join(indent, prefix)`
* null output

Colorisers:

* ANSI terminal colors
* Colors.js style getters (same as in `grunt ~0.4.1`)
* plain text

## Known dependants

* ~~[grunt-tv4](https://github.com/Bartvds/grunt-tv4) (bulk validator fro grunt)~~ (update in progress)
* ~~[chai-json-schema](https://github.com/Bartvds/chai-json-schema) (assertion wrappers)~~ (update in progress)

## Future

1. Output will likely be tuned over time.
1. Current version is very functional but doesn't yet do anything specific for each validation rule type.

## History

* 0.0.1 - Extracted formatting code from [grunt-tv4](https://github.com/Bartvds/grunt-tv4) and [chai-json-schema](https://github.com/Bartvds/chai-json-schema)

## Build

Nothing much here as the code is still being extracted from the original projects.

~~Install development dependencies in your git checkout:~~

    $ npm install

~~Build and run tests:~~

    $ grunt

See the `Gruntfile.js` for additional commands.

## Contributing

In lieu of a formal styleguide, take care to maintain the existing coding style. Add unit tests for any new or changed functionality. Lint and test your code using [Grunt](http://gruntjs.com/).

Note this is an opinionated module: improvements are very welcome, but please create a [ticket](https://github.com/Bartvds/tv4-reporter/issues) to discuss your case first. Pull requests for bug fixes are of course always welcome. 

## License

Copyright (c) 2013 Bart van der Schoor

Licensed under the MIT license.